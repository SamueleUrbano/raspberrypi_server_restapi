[TABLES]

door   = 	CREATE TABLE IF NOT EXISTS "door" (
				"Id" INTEGER NOT NULL UNIQUE,
				"DoorId" TEXT NOT NULL CHECK (LENGTH ("DoorId") = 4) UNIQUE,
				"Label" TEXT NOT NULL CHECK (LENGTH ("Label") BETWEEN 1 AND 40),
				"PermissionLevel" TEXT NOT NULL DEFAULT 'BASE' CHECK (
					"PermissionLevel" = 'BASE'
					OR "PermissionLevel" = 'SECRETARIAT'
					OR "PermissionLevel" = 'PRESIDENCY'
				),
				"CreatedDate" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
				"LastModifiedDate" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
				"IsActive" INTEGER NOT NULL DEFAULT 1 CHECK (
					IsActive = 0
					OR IsActive = 1
				),
				PRIMARY KEY ("Id" AUTOINCREMENT)
			)
			
badge  =	CREATE TABLE IF NOT EXISTS "badge" (
				"Id" INTEGER NOT NULL UNIQUE,
				"BadgeId" TEXT NOT NULL CHECK (LENGTH ("BadgeId") = 8) UNIQUE,
				"FormalBadgeId" TEXT NOT NULL UNIQUE,
				"FirstName" TEXT NOT NULL CHECK (LENGTH ("FirstName") BETWEEN 1 AND 80),
				"LastName" TEXT NOT NULL CHECK (LENGTH ("FirstName") BETWEEN 1 AND 80),
				"BirthDate" DATE NOT NULL,
				"PhoneNumber" TEXT,
				"EmailAddress" TEXT,
				"CreatedDate" DATETIME NOT NULL DEFAULT current_timestamp,
				"LastModifiedDate" DATETIME NOT NULL DEFAULT current_timestamp,
				"IsActive" INTEGER NOT NULL DEFAULT 0 CHECK (
					"IsActive" = 0
					OR "IsActive" = 1
				),
				"ActivationDate" DATETIME,
				"IsExpired" INTEGER NOT NULL DEFAULT 0 CHECK (
					IsExpired = 0
					OR IsExpired = 1
				),
				"ExpirationDate" DATETIME,
				PRIMARY KEY ("Id") ON CONFLICT ROLLBACK
			)